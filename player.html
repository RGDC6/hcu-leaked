<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HCU Leaked â€” Player</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --green: #00ff41;
            --red:   #ff2233;
            --bg:    #0d0d0d;
            --panel: rgba(255,255,255,0.03);
            --border: rgba(0,255,65,0.15);
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background: var(--bg);
            font-family: 'Share Tech Mono', monospace;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            color: #fff;
        }

        #matrix-canvas { position: fixed; inset: 0; z-index: 0; opacity: 0.13; }

        .vignette {
            position: fixed; inset: 0;
            background: radial-gradient(ellipse at center, transparent 25%, #000 100%);
            z-index: 1; pointer-events: none;
        }
        .scanlines {
            position: fixed; inset: 0;
            background: repeating-linear-gradient(to bottom, transparent 0px, transparent 3px, rgba(0,0,0,0.08) 3px, rgba(0,0,0,0.08) 4px);
            z-index: 10; pointer-events: none;
        }

        /* â”€â”€ Card â”€â”€ */
        .player-card {
            position: relative; z-index: 5;
            width: min(520px, 95vw);
            max-height: 92vh;
            overflow-y: auto;
            overflow-x: hidden;
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 20px;
            backdrop-filter: blur(12px);
            padding: 2rem;
            box-shadow: 0 0 60px rgba(0,255,65,0.05), 0 40px 80px rgba(0,0,0,0.8);
            display: flex;
            flex-direction: column;
            gap: 1.4rem;
            scrollbar-width: thin;
            scrollbar-color: rgba(0,255,65,0.2) transparent;
        }

        /* â”€â”€ Header â”€â”€ */
        .header { display: flex; align-items: center; gap: 1rem; }
        .cover {
            width: 88px; height: 88px;
            border-radius: 10px; object-fit: cover; flex-shrink: 0;
            border: 2px solid var(--border);
            transition: box-shadow 0.4s;
            box-shadow: 0 0 20px rgba(0,255,65,0.15);
        }
        .cover.playing { animation: pulse-cover 2s ease-in-out infinite; }
        @keyframes pulse-cover {
            0%,100% { box-shadow: 0 0 20px rgba(0,255,65,0.3); }
            50%      { box-shadow: 0 0 45px rgba(0,255,65,0.65); }
        }
        .track-info { flex: 1; overflow: hidden; }
        .track-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem; font-weight: 700; color: #fff;
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
            letter-spacing: 0.05em;
        }
        .track-album {
            font-size: 0.65rem; color: var(--green);
            text-shadow: 0 0 8px var(--green);
            margin-top: 0.3rem; letter-spacing: 0.08em; text-transform: uppercase;
        }
        .track-num { font-size: 0.62rem; color: rgba(255,255,255,0.3); margin-top: 0.25rem; }

        /* â”€â”€ Progress â”€â”€ */
        .progress-wrap { display: flex; flex-direction: column; gap: 0.5rem; }
        .progress-bar-bg {
            width: 100%; height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 99px; cursor: pointer; position: relative;
        }
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(to right, var(--green), #00cc33);
            border-radius: 99px; width: 0%;
            pointer-events: none; position: relative;
        }
        .progress-bar-fill::after {
            content: '';
            position: absolute; right: -6px; top: 50%;
            transform: translateY(-50%);
            width: 13px; height: 13px;
            background: #fff; border-radius: 50%;
            box-shadow: 0 0 6px var(--green);
            opacity: 0; transition: opacity 0.2s;
        }
        .progress-bar-bg:hover .progress-bar-fill::after { opacity: 1; }
        .times {
            display: flex; justify-content: space-between;
            font-size: 0.65rem; color: rgba(255,255,255,0.35);
        }

        /* â”€â”€ Controls â”€â”€ */
        .controls {
            display: flex; align-items: center;
            justify-content: center; gap: 1.5rem;
        }
        .btn {
            background: none; border: none; cursor: pointer;
            color: rgba(255,255,255,0.5);
            transition: color 0.2s, transform 0.15s;
            display: flex; align-items: center; justify-content: center;
            padding: 0.4rem; border-radius: 50%;
        }
        .btn:hover { color: var(--green); transform: scale(1.15); }
        .btn.btn-play {
            width: 56px; height: 56px;
            background: var(--green); color: #000; border-radius: 50%;
            box-shadow: 0 0 25px rgba(0,255,65,0.5);
            transition: box-shadow 0.2s, transform 0.15s;
        }
        .btn.btn-play:hover { box-shadow: 0 0 45px rgba(0,255,65,0.8); transform: scale(1.08); }
        .btn.active { color: var(--green); }

        /* â”€â”€ Volume â”€â”€ */
        .volume-row { display: flex; align-items: center; gap: 0.8rem; }
        .volume-icon { font-size: 0.9rem; color: rgba(255,255,255,0.35); }
        input[type=range] {
            -webkit-appearance: none; flex: 1; height: 3px;
            background: rgba(255,255,255,0.1); border-radius: 99px;
            outline: none; cursor: pointer;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; width: 14px; height: 14px;
            background: var(--green); border-radius: 50%;
            box-shadow: 0 0 6px var(--green);
        }

        /* â”€â”€ Tracklist â”€â”€ */
        .tracklist { display: flex; flex-direction: column; gap: 0.25rem; }
        .tracklist-label {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.55rem; letter-spacing: 0.3em;
            color: rgba(255,255,255,0.2);
            text-transform: uppercase; margin-bottom: 0.5rem;
        }
        .track-row {
            display: flex; align-items: center; gap: 0.8rem;
            padding: 0.55rem 0.7rem; border-radius: 8px;
            cursor: pointer; transition: background 0.2s;
            border: 1px solid transparent; user-select: none;
        }
        .track-row:hover { background: rgba(0,255,65,0.05); border-color: rgba(0,255,65,0.1); }
        .track-row.active { background: rgba(0,255,65,0.08); border-color: rgba(0,255,65,0.2); }
        .t-num {
            font-size: 0.65rem; color: rgba(255,255,255,0.25);
            width: 18px; text-align: center; flex-shrink: 0;
        }
        .track-row.active .t-num { color: var(--green); text-shadow: 0 0 8px var(--green); }
        .t-name {
            flex: 1; font-size: 0.8rem; color: rgba(255,255,255,0.75);
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }
        .track-row.active .t-name { color: #fff; }
        .t-dur { font-size: 0.65rem; color: rgba(255,255,255,0.25); flex-shrink: 0; }

        /* playing bars */
        .bars { display: none; gap: 2px; align-items: flex-end; height: 14px; flex-shrink: 0; }
        .track-row.active .bars { display: flex; }
        .track-row.active .t-num-wrap { display: none; }
        .bar { width: 3px; background: var(--green); border-radius: 2px; animation: bar-bounce 0.8s ease-in-out infinite alternate; }
        .bar:nth-child(1) { animation-duration: 0.6s; height: 8px; }
        .bar:nth-child(2) { animation-duration: 0.9s; height: 12px; }
        .bar:nth-child(3) { animation-duration: 0.7s; height: 6px; }
        .bar:nth-child(4) { animation-duration: 1.0s; height: 10px; }
        @keyframes bar-bounce {
            from { transform: scaleY(0.3); opacity: 0.5; }
            to   { transform: scaleY(1);   opacity: 1; }
        }
        .track-row.active.paused .bar { animation-play-state: paused; }

        /* â”€â”€ Download button â”€â”€ */
        .btn-download {
            display: flex; align-items: center; justify-content: center; gap: 0.7rem;
            padding: 0.85rem 1.2rem;
            border: 1px solid rgba(255,34,51,0.4);
            border-radius: 12px;
            background: rgba(255,34,51,0.06);
            color: var(--red);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.7rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            font-weight: 700;
            text-decoration: none;
            cursor: pointer;
            transition: background 0.2s, box-shadow 0.2s, transform 0.15s;
            text-shadow: 0 0 8px var(--red);
            box-shadow: 0 0 15px rgba(255,34,51,0.1);
        }
        .btn-download:hover {
            background: rgba(255,34,51,0.12);
            box-shadow: 0 0 30px rgba(255,34,51,0.3);
            transform: translateY(-2px);
        }
        .btn-download svg { flex-shrink: 0; }
    </style>
</head>
<body>

<canvas id="matrix-canvas"></canvas>
<div class="vignette"></div>
<div class="scanlines"></div>

<div class="player-card">

    <div class="header">
        <img id="cover-img" class="cover" src="hcu-leaked.jpg" alt="Cover">
        <div class="track-info">
            <div class="track-title" id="track-title">â€” seleziona una traccia â€”</div>
            <div class="track-album">Hammon Cinematic Universe</div>
            <div class="track-num" id="track-num"></div>
        </div>
    </div>

    <div class="progress-wrap">
        <div class="progress-bar-bg" id="progress-bg">
            <div class="progress-bar-fill" id="progress-fill"></div>
        </div>
        <div class="times">
            <span id="time-cur">0:00</span>
            <span id="time-tot">0:00</span>
        </div>
    </div>

    <div class="controls">
        <button class="btn" id="btn-shuffle" title="Shuffle">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="16 3 21 3 21 8"/><line x1="4" y1="20" x2="21" y2="3"/>
                <polyline points="21 16 21 21 16 21"/><line x1="15" y1="15" x2="21" y2="21"/>
            </svg>
        </button>
        <button class="btn" id="btn-prev" title="Precedente">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6 8.5 6V6z"/></svg>
        </button>
        <button class="btn btn-play" id="btn-play" title="Play/Pausa">
            <svg id="icon-play" width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
            <svg id="icon-pause" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="display:none"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
        </button>
        <button class="btn" id="btn-next" title="Successiva">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zm2.5-6 5.5 3.9V8.1L8.5 12zM16 6h2v12h-2z"/></svg>
        </button>
        <button class="btn" id="btn-repeat" title="Ripeti">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="17 1 21 5 17 9"/><path d="M3 11V9a4 4 0 0 1 4-4h14"/>
                <polyline points="7 23 3 19 7 15"/><path d="M21 13v2a4 4 0 0 1-4 4H3"/>
            </svg>
        </button>
    </div>

    <div class="volume-row">
        <span class="volume-icon">ðŸ”ˆ</span>
        <input type="range" id="volume" min="0" max="1" step="0.01" value="0.8">
        <span class="volume-icon">ðŸ”Š</span>
    </div>

    <div class="tracklist">
        <div class="tracklist-label">Tracce</div>
        <div id="track-list-container"></div>
    </div>

    <!-- Download ZIP -->
    <a class="btn-download" href="Hammon Cinematic Universe - Leaked.zip" download>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
        </svg>
        Scarica Album ZIP
    </a>

</div>

<audio id="audio"></audio>

<script>
const TRACKS = [
    { title: "2 Troie Pazze",                               file: "Hammon Cinematic Universe/2 Troie Pazze.mp3",                                              duration: "2:04" },
    { title: "Amo Gli Animali",                             file: "Hammon Cinematic Universe/Amo Gli Animali.mp3",                                            duration: "2:27" },
    { title: "Amo I Miei Scam (feat. Tony 2Milli)",         file: "Hammon Cinematic Universe/Amo I Miei Scam (feat. Tony 2Milli).mp3",                       duration: "2:29" },
    { title: "Danni Da Perc",                               file: "Hammon Cinematic Universe/Danni Da Perc.mp3",                                              duration: "2:48" },
    { title: "Drop It",                                     file: "Hammon Cinematic Universe/Drop It.mp3",                                                    duration: "2:04" },
    { title: "Ero GiÃ  Ricco",                               file: "Hammon Cinematic Universe/Ero GiÃ  Ricco.mp3",                                              duration: "2:51" },
    { title: "Incidente A Cosenza (feat. Glasond)",         file: "Hammon Cinematic Universe/Incidente A Cosenza (feat. Glasond).mp3",                       duration: "2:24" },
    { title: "Insonnia",                                    file: "Hammon Cinematic Universe/Insonnia.mp3",                                                   duration: "2:16" },
    { title: "Music Business",                              file: "Hammon Cinematic Universe/Music Business.mp3",                                             duration: "2:56" },
    { title: "Outside",                                     file: "Hammon Cinematic Universe/Outside.mp3",                                                    duration: "2:16" },
    { title: "Parlo Con Gli Illuminati A C Ã¨ Posta Per Te",file: "Hammon Cinematic Universe/Parlo Con Gli Illuminati A C Ã¨ Posta Per Te.mp3",               duration: "3:34" },
    { title: "Storia Di Un Proiettile",                    file: "Hammon Cinematic Universe/Storia Di Un Proiettile.mp3",                                    duration: "3:46" },
    { title: "Sudditaliano",                               file: "Hammon Cinematic Universe/Sudditaliano.mp3",                                               duration: "2:25" },
    { title: "Swag",                                       file: "Hammon Cinematic Universe/Swag.mp3",                                                       duration: "2:50" },
];
const COVER = "hcu-leaked.jpg";

const audio        = document.getElementById('audio');
const btnPlay      = document.getElementById('btn-play');
const iconPlay     = document.getElementById('icon-play');
const iconPause    = document.getElementById('icon-pause');
const progressBg   = document.getElementById('progress-bg');
const progressFill = document.getElementById('progress-fill');
const timeCur      = document.getElementById('time-cur');
const timeTot      = document.getElementById('time-tot');
const trackTitle   = document.getElementById('track-title');
const trackNum     = document.getElementById('track-num');
const coverImg     = document.getElementById('cover-img');
const volumeSlider = document.getElementById('volume');
const listContainer= document.getElementById('track-list-container');

let currentIndex = -1;
let isPlaying    = false;
let shuffle      = false;
let repeat       = false;

/* â”€â”€ Build tracklist â”€â”€ */
TRACKS.forEach((t, i) => {
    const row = document.createElement('div');
    row.className = 'track-row';
    row.innerHTML = `
        <div class="bars"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        <span class="t-num-wrap"><span class="t-num">${i + 1}</span></span>
        <span class="t-name">${t.title}</span>
        <span class="t-dur">${t.duration}</span>`;
    row.addEventListener('click', () => loadAndPlay(i));
    listContainer.appendChild(row);
});

function getRows() { return document.querySelectorAll('.track-row'); }

function setActiveRow(index) {
    getRows().forEach((r, i) => {
        r.classList.toggle('active', i === index);
        r.classList.remove('paused');
    });
}

function loadTrack(index) {
    currentIndex = index;
    const t = TRACKS[index];
    audio.src = t.file;
    audio.load();
    audio.volume = parseFloat(volumeSlider.value);
    trackTitle.textContent = t.title;
    trackNum.textContent   = `Traccia ${index + 1} / ${TRACKS.length}`;
    coverImg.src = COVER;
    progressFill.style.width = '0%';
    timeCur.textContent = '0:00';
    timeTot.textContent = t.duration;
    setActiveRow(index);
}

function loadAndPlay(index) {
    loadTrack(index);
    doPlay();
}

function doPlay() {
    audio.play().then(() => {
        isPlaying = true;
        iconPlay.style.display  = 'none';
        iconPause.style.display = '';
        coverImg.classList.add('playing');
        getRows().forEach(r => r.classList.remove('paused'));
    }).catch(err => console.warn('play() error:', err));
}

function doPause() {
    audio.pause();
    isPlaying = false;
    iconPlay.style.display  = '';
    iconPause.style.display = 'none';
    coverImg.classList.remove('playing');
    getRows().forEach(r => { if (r.classList.contains('active')) r.classList.add('paused'); });
}

/* â”€â”€ Button events â”€â”€ */
btnPlay.addEventListener('click', () => {
    if (currentIndex === -1) { loadAndPlay(0); return; }
    isPlaying ? doPause() : doPlay();
});

document.getElementById('btn-prev').addEventListener('click', () => {
    if (currentIndex === -1) return;
    if (audio.currentTime > 3) { audio.currentTime = 0; return; }
    loadAndPlay((currentIndex - 1 + TRACKS.length) % TRACKS.length);
});

document.getElementById('btn-next').addEventListener('click', () => nextTrack(true));

function nextTrack(force = false) {
    let idx;
    if (shuffle) {
        do { idx = Math.floor(Math.random() * TRACKS.length); } while (idx === currentIndex && TRACKS.length > 1);
    } else {
        idx = (currentIndex + 1) % TRACKS.length;
    }
    loadAndPlay(idx);
}

audio.addEventListener('ended', () => {
    if (repeat) { audio.currentTime = 0; doPlay(); }
    else nextTrack();
});

/* â”€â”€ Progress â”€â”€ */
audio.addEventListener('timeupdate', () => {
    if (!audio.duration) return;
    const pct = (audio.currentTime / audio.duration) * 100;
    progressFill.style.width = pct + '%';
    timeCur.textContent = fmt(audio.currentTime);
    timeTot.textContent = fmt(audio.duration);
});

progressBg.addEventListener('click', e => {
    if (!audio.duration) return;
    const r = progressBg.getBoundingClientRect();
    audio.currentTime = ((e.clientX - r.left) / r.width) * audio.duration;
});

/* â”€â”€ Volume â”€â”€ */
volumeSlider.addEventListener('input', () => { audio.volume = parseFloat(volumeSlider.value); });

/* â”€â”€ Shuffle / Repeat â”€â”€ */
document.getElementById('btn-shuffle').addEventListener('click', function() {
    shuffle = !shuffle;
    this.classList.toggle('active', shuffle);
});
document.getElementById('btn-repeat').addEventListener('click', function() {
    repeat = !repeat;
    this.classList.toggle('active', repeat);
});

function fmt(s) {
    const m = Math.floor(s / 60);
    return `${m}:${Math.floor(s % 60).toString().padStart(2,'0')}`;
}

/* Load first track info (no autoplay) */
loadTrack(0);

/* â”€â”€ Matrix rain â”€â”€ */
(function () {
    const c = document.getElementById('matrix-canvas');
    const cx = c.getContext('2d');
    let cols, drops;
    const CH = 'ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    const FS = 14;
    function init() {
        c.width = window.innerWidth; c.height = window.innerHeight;
        cols  = Math.floor(c.width / FS);
        drops = Array.from({ length: cols }, () => Math.random() * -80);
    }
    function draw() {
        cx.fillStyle = 'rgba(0,0,0,0.04)';
        cx.fillRect(0, 0, c.width, c.height);
        cx.fillStyle = '#00ff41'; cx.font = FS + 'px monospace';
        drops.forEach((d, i) => {
            cx.fillText(CH[Math.floor(Math.random() * CH.length)], i * FS, d * FS);
            if (d * FS > c.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        });
    }
    init();
    window.addEventListener('resize', init);
    setInterval(draw, 45);
})();
</script>
</body>
</html>